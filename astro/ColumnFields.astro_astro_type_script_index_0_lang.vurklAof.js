class u extends HTMLElement{constructor(){if(super(),!!!+(this.dataset.allowMultiple??0))return;const t=this.querySelectorAll(".columns");for(const l of t)l.classList.add("source"),l.querySelectorAll("input").forEach(e=>e.disabled=!0),l.querySelectorAll("option").forEach(e=>e.disabled=!0),l.querySelectorAll("select").forEach(e=>e.disabled=!0);this.makeCopy(t)}makeCopy(c){for(const t of c){const l=t.cloneNode(!0);l.classList.remove("source"),t.parentElement?.appendChild(l),l.querySelectorAll("option").forEach(e=>e.disabled=!1),l.querySelectorAll("select").forEach(e=>e.disabled=!1),l.querySelectorAll("input").forEach(e=>{e.disabled=!1,e.addEventListener("change",()=>{let r=Array.from(this.querySelectorAll(".rows")).map(s=>Array.from(s.querySelectorAll("input")));r=r[0].map((s,a)=>r.map(o=>o[a])),r.forEach((s,a)=>{s.some(o=>o.closest(".columns")?.classList.contains("source"))||(a!==r.length-1&&s.every(o=>!o.value)?s.forEach(o=>o.closest(".columns")?.remove()):a===r.length-1&&s.some(o=>o.value)&&this.makeCopy(c))})})})}}removeCopy(c){}}customElements.define("column-fields",u);
